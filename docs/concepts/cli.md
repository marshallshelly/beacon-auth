---
title: CLI
description: Built-in CLI for managing BeaconAuth schemas.
---

BeaconAuth comes with a built-in CLI to help you manage your database schemas. This is especially useful for generating migrations when you add new plugins or change your ID generation strategy.

## Installation

You can run the CLI directly using `go run` or build it:

```bash
# Run directly
go run github.com/marshallshelly/beacon-auth/cmd/beacon@latest generate ...

# Or install globally
go install github.com/marshallshelly/beacon-auth/cmd/beacon@latest
```

## Commands

### Generate

The `generate` command creates the SQL schema required by your configuration. It supports multiple database adapters and ID strategies.

```bash
beacon generate [flags]
```

**Flags:**

- `--adapter` (required): Database adapter to target. Options: `postgres`, `mysql`, `sqlite`, `mssql`.
- `--plugins`: Comma-separated list of plugins to include tables for. Options: `twofa`. (Note: `emailpassword` and `oauth` use the core schema and do not require extra tables).
- `--id-type`: The ID generation strategy to use.
  - `string` (default): IDs are text strings generated by the application (CUID-compatible).
  - `uuid`: IDs are UUIDs generated by the database (e.g., `gen_random_uuid()` in Postgres).
  - `serial`: IDs are auto-incrementing integers.

**Examples:**

Generate a standard schema for PostgreSQL with Two-Factor Auth support:

```bash
beacon generate --adapter postgres --plugins twofa > init.sql
```

Generate a schema using UUIDs for MySQL:

```bash
beacon generate --adapter mysql --id-type uuid > init.sql
```

Generate a schema using Serial (auto-increment) IDs for legacy SQLite compatibility:

```bash
beacon generate --adapter sqlite --id-type serial > init.sql
```

### Init

_Currently in development._

```bash
beacon init
```

## Migration Workflow

BeaconAuth does not auto-migrate your database at runtime. The validation of schemas is left to you. The recommended workflow is:

1.  **Generate**: Run `beacon generate` with your desired configuration.
2.  **Review**: Check the generated SQL file.
3.  **Execute**: Run the SQL against your database using your preferred tool (e.g., `psql`, `mysql`, or a migration manager like `dbmate` or `golang-migrate`).
